<html xmlns:th="http://www.thymeleaf.org">

<div th:fragment="checkoutForm">
    <div class="jumbotron">
        <h1 th:text="#{checkoutForm.title}">Checkout Form</h1>
        <br>
        <br>
        <form id="myForm" action="/placeOrder" method="POST" th:object="${orderForm}">
            <div class="form-row">
                <div class="col-md-4 mb-4">
                    <div class="input-group">
                        <input type="text" class="form-control" id="firstName"
                               th:placeholder="#{registerForm.placeholder.name}"
                               aria-describedby="firstNamePrepend" th:field="*{firstName}"/>
                        <div class="input-group-append">
                            <span th:errors="*{firstName}" class="input-group-text error" id="firstNamePrepend">First name</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="input-group">
                        <input type="text" class="form-control" id="lastName"
                               aria-describedby="lastNamePrepend" th:placeholder="#{registerForm.placeholder.surname}"
                               th:field="*{lastName}">
                        <div class="input-group-append">
                            <span th:errors="*{lastName}" class="input-group-text error"
                                  id="lastNamePrepend">Last name</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4 container">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text" id="emailPrepend"
                                  th:text="#{registerForm.placeholder.at}"></span>
                        </div>
                        <input type="text" class="form-control" id="email"
                               th:placeholder="#{registerForm.placeholder.email}"
                               aria-describedby="emailPrepend" aria-label="errorPrepend" th:field="*{email}">
                        <div class="input-group-append">
                            <span th:errors="*{email}" class="input-group-text error"></span>
                        </div>
                        <span th:unless="${#fields.hasErrors('email')}" th:if="${emailExistsError}"
                              th:text="#{error.emailExists}" class="input-group-text error"></span>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="col-md-6 mb-3">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span th:errors="*{password}" class="input-group-text error"
                                  id="passwordPrepend">Password</span>
                        </div>
                        <input type="password" class="form-control" name="password"
                               aria-describedby="passwordPrepend" th:errprclass="invalid"
                               th:placeholder="#{registerForm.placeholder.password}" th:field="*{password}"/>
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <div class="input-group">
                        <input type="password" class="form-control" name="confirmPassword"
                               aria-describedby="passwordRepeatAppend" th:field="*{confirmPassword}"
                               th:placeholder="#{registerForm.placeholder.confirmPassword}"/>
                        <div class="input-group-append">
                            <span th:if="${#fields.hasErrors('confirmPassword')}" class="input-group-text error"
                                  id="passwordRepeatAppend">Passwords must match!</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span th:errors="*{address}" class="input-group-text error" id="addressPrepend">Address</span>
                    </div>
                    <input type="text" class="form-control" id="address" aria-describedby="addressPrepend"
                           th:placeholder="#{registerForm.placeholder.address}"
                           th:field="*{address}">
                </div>
            </div>
            <div class="form-row">
                <div class="col-md-4 mb-3">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span th:errors="*{city}" class="input-group-text error" id="cityPrepend">City</span>
                        </div>
                        <input type="text" class="form-control" id="city" aria-describedby="cityPrepend"
                               th:placeholder="#{registerForm.placeholder.city}" th:field="*{city}">
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <select id="country" class="form-control" name="country"
                            th:field="*{country}">
                        <option value="country" selected th:text="#{registerForm.placeholder.country}">Country</option>
                        <option th:each="country: ${countries}" th:text="${country.value}"
                                th:value="${country.key}">
                        </option>
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="input-group">
                        <input type="text" class="form-control" id="postalCode" aria-describedby="postalCodePrepend"
                               th:field="*{postalCode}" th:placeholder="#{registerForm.placeholder.postalCode}">
                        <div class="input-group-append">
                            <span th:errors="*{postalCode}" class="input-group-text error"
                                  id="postalCodePrepend">City</span>
                        </div>
                    </div>
                </div>
            </div>

            <button class="btn btn-primary" type="submit">Sign up</button>
            <br/><br/>
        </form>
    </div>
</div>
